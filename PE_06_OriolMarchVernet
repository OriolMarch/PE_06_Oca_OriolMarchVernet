public class PE_06_OriolMarchVernet {

    // Constants del joc

    private final int BOARD_SIZE = 63;
    private final int MIN_PLAYERS = 2;
    private final int MAX_PLAYERS = 4;

    // Tipus de caselles
    private final int NORMAL    = 0;
    private final int GOOSE     = 1;
    private final int BRIDGE    = 2;
    private final int INN       = 3;
    private final int WELL      = 4;
    private final int LABYRINTH = 5;
    private final int PRISON    = 6;
    private final int DICE36    = 7;   // casella 26
    private final int DICE45    = 8;   // casella 53
    private final int DEATH     = 9;   // casella 58
    private final int GARDEN    = 10;  // casella 63

    private boolean gameFinished = false;

    // Tauler
    private int[] cellType;
    private String[] cellMessage;
    private int[] cellDestination;
    private int[] cellPenalty;

    // Jugadors
    private int playerCount;
    private String[] playerNames;
    private int[] playerPositions;
    private int[] playerBlockedTurns;
    private boolean[] isFirstTurn;

    // Regla del pou
    private int wellPrisoner = -1;

    // Scanner General
    private Scanner sc = new Scanner(System.in);

    // Fer una variable torn per controlar el torn dels jugadors,
    // i fer un bucle amb un for. Variable mesAlt.

    // Main

    public static void main(String[] args) {
        PE_06_OriolMarchVernet p = new PE_06_OriolMarchVernet();
        p.mainGame();
    }

    // Programa principal

   public void principal() {
        System.out.println("=== JOC DE L'OCA ===");
        initGame();

        while (!gameFinished) {
            playRound();
        }

        System.out.println("Fi del joc.");
    }

    public void initGame() {
        playerCount = readIntRange("Introdueix nombre de jugadors (2-4): ", MIN_PLAYERS, MAX_PLAYERS);

        playerNames = new String[playerCount];
        playerPositions = new int[playerCount];
        playerBlockedTurns = new int[playerCount];
        isFirstTurn = new boolean[playerCount];

        for (int i = 0; i < playerCount; i++) {
            playerNames[i] = readNonEmpty("Nom del jugador " + (i + 1) + ": ");
            playerPositions[i] = 0;
            playerBlockedTurns[i] = 0;
            isFirstTurn[i] = true;
        }

        initBoard();
    }

    public void initBoard() {
        // +1 perquè la posició 63 existeixi tal qual
        cellType = new int[BOARD_SIZE + 1];
        cellMessage = new String[BOARD_SIZE + 1];
        cellDestination = new int[BOARD_SIZE + 1];
        cellPenalty = new int[BOARD_SIZE + 1];

        for (int i = 0; i < cellType.length; i++) {
            cellType[i] = NORMAL;
            cellMessage[i] = "";
            cellDestination[i] = i;
            cellPenalty[i] = 0;
        }

        // Oques
        int[] oques = {5, 9, 14, 18, 23, 27, 32, 36, 41, 45, 50, 54, 59};
        for (int i = 0; i < oques.length; i++) {
            int pos = oques[i];
            cellType[pos] = GOOSE;
            cellMessage[pos] = "De oca en oca y tiro porque me toca.";
        }
}

}
